
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mmondics.github.io/ocp-z-workshop/lab002/lab002-4/">
      
      
      
      
      <link rel="icon" href="../../images/openshift-logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Deploy Container Image from the CLI - Red Hat OpenShift on IBM Z and LinuxONE Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploy-container-image-from-the-cli" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Red Hat OpenShift on IBM Z and LinuxONE Workshop" class="md-header__button md-logo" aria-label="Red Hat OpenShift on IBM Z and LinuxONE Workshop" data-md-component="logo">
      
  <img src="../../images/openshift-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Red Hat OpenShift on IBM Z and LinuxONE Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deploy Container Image from the CLI
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mmondics/ocp-z-workshop/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Red Hat OpenShift on IBM Z and LinuxONE Workshop" class="md-nav__button md-logo" aria-label="Red Hat OpenShift on IBM Z and LinuxONE Workshop" data-md-component="logo">
      
  <img src="../../images/openshift-logo.png" alt="logo">

    </a>
    Red Hat OpenShift on IBM Z and LinuxONE Workshop
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mmondics/ocp-z-workshop/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshop-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lab Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Presentations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Presentations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../presentations/combined-presentations.pdf" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presentation 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../presentations/combined-presentations.pdf#page=48" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presentation 2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../lab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hands-on Lab
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../print_page/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Print Site
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="deploy-container-image-from-the-cli">Deploy Container Image from the CLI<a class="headerlink" href="#deploy-container-image-from-the-cli" title="Permanent link">&para;</a></h1>
<p><code>oc new-app</code> is a powerful and commonly used command in the OpenShift CLI. It has the ability to deploy applications from components that include:</p>
<ul>
<li>Source or binary code</li>
<li>Container images</li>
<li>Templates</li>
</ul>
<p>The set of objects created by <code>oc new-app</code> depends on the artifacts passed as an input.</p>
<ol>
<li>
<p><strong>Run the following command to start an HTTP server (httpd) deployment from a template</strong>:</p>
<div class="highlight"><pre><span></span><code>oc new-app --template=httpd-example
</code></pre></div>
<details class="example" open="open">
<summary>Example Output</summary>
<p>```text
user01@lab061:~$ oc new-app --template=httpd-example
&rarr; Deploying template "openshift/httpd-example" to project user00-project</p>
<div class="codehilite"><pre><span></span><code>Apache HTTP Server
---------
An example Apache HTTP Server (httpd) application that serves static content. For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/httpd-ex/blob/master/README.md.

The following service(s) have been created in your project: httpd-example.

For more information about using this template, including OpenShift considerations, see https://github.com/sclorg/httpd-ex/blob/master/README.md.

<span class="k">*</span> With parameters:
    <span class="k">*</span> Name=httpd-example
    <span class="k">*</span> Namespace=openshift
    <span class="k">*</span> Memory Limit=512Mi
    <span class="k">*</span> Git Repository URL=https://github.com/sclorg/httpd-ex.git
    <span class="k">*</span> Git Reference=
    <span class="k">*</span> Context Directory=
    <span class="k">*</span> Application Hostname=
    <span class="k">*</span> GitHub Webhook Secret=RWOich7rQxeyDc5X4R8AWHivcTHdOhTjCUWDLFe1 # generated
    <span class="k">*</span> Generic Webhook Secret=4lAUcEAQJu2cCyq2MX0sQ0uIlmsYbAGf5XUM7unN # generated
</code></pre></div>

<p>&rarr; Creating resources ...
    service "httpd-example" created
    route.route.openshift.io "httpd-example" created
    imagestream.image.openshift.io "httpd-example" created
    buildconfig.build.openshift.io "httpd-example" created
    deploymentconfig.apps.openshift.io "httpd-example" created
&rarr; Success
    Access your application via route 'httpd-example-user00-project.apps.atsocppa.dmz'
    Build scheduled, use 'oc logs -f buildconfig/httpd-example' to track its progress.
    Run 'oc status' to view your app.        ```</p>
</details>
<details class="note" open="open">
<summary>Note</summary>
<p>Notice a few things:</p>
<ul>
<li>
<p>OpenShift went out and found a template that matches your desired deployment – httpd-example.</p>
</li>
<li>
<p>You’re told what exactly is going to be created and what it will be named.</p>
</li>
<li>
<p>Those objects are then created within your project space.</p>
</li>
<li>
<p>You’re told that the application was successfully deployed and also exposed via a <em>route</em>. This mean that it is accessible from outside the cluster.</p>
</li>
</ul>
</details>
</li>
<li>
<p><strong>Run the following command</strong> to view the app in your project space:</p>
<div class="highlight"><pre><span></span><code>oc status
</code></pre></div>
<details class="example" open="open">
<summary>Example Output</summary>
<div class="highlight"><pre><span></span><code>user01@lab061:~$ oc status
In project user00-project on server https://api.atsocppa.dmz:6443

http://httpd-example-user00-project.apps.atsocppa.dmz (svc/httpd-example)
dc/httpd-example deploys istag/httpd-example:latest &lt;-
    bc/httpd-example source builds https://github.com/sclorg/httpd-ex.git on openshift/httpd:2.4-el8
    deployment #1 deployed about a minute ago - 1 pod

View details with &#39;oc describe &lt;resource&gt;/&lt;name&gt;&#39; or list resources with &#39;oc get all&#39;.
</code></pre></div>
</details>
<ol>
<li>Now <strong>run the following command</strong> to see all of the objects that were built:</li>
</ol>
<div class="highlight"><pre><span></span><code>oc get all
</code></pre></div>
<details class="example" open="open">
<summary>Example Output</summary>
<div class="highlight"><pre><span></span><code>user01@lab061:~$ oc get all
NAME                         READY   STATUS      RESTARTS   AGE
pod/httpd-example-1-build    0/1     Completed   0          2m41s
pod/httpd-example-1-deploy   0/1     Completed   0          2m7s
pod/httpd-example-1-pgxxp    1/1     Running     0          2m3s

NAME                                    DESIRED   CURRENT   READY   AGE
replicationcontroller/httpd-example-1   1         1         1       2m7s

NAME                    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE
service/httpd-example   ClusterIP   172.30.232.138   &lt;none&gt;        8080/TCP   2m42s

NAME                                               REVISION   DESIRED   CURRENT   TRIGGERED BY
deploymentconfig.apps.openshift.io/httpd-example   1          1         1         config,image(httpd-example:latest)

NAME                                           TYPE     FROM   LATEST
buildconfig.build.openshift.io/httpd-example   Source   Git    1

NAME                                       TYPE     FROM          STATUS     STARTED         DURATION
build.build.openshift.io/httpd-example-1   Source   Git@744d904   Complete   2 minutes ago   38s

NAME                                           IMAGE REPOSITORY                                                                        TAGS     UPDATED
imagestream.image.openshift.io/httpd-example   default-route-openshift-image-registry.apps.atsocppa.dmz/user00-project/httpd-example   latest   2 minutes ago

NAME                                     HOST/PORT                                        PATH   SERVICES        PORT    TERMINATION   WILDCARD
route.route.openshift.io/httpd-example   httpd-example-user00-project.apps.atsocppa.dmz          httpd-example   &lt;all&gt;                 None
</code></pre></div>
</details>
<p>These are the objects that OpenShift told us would be created, and they all work together to run the application. While they’re all important pieces of this puzzle, <em>pods</em> are where the application code is actually running. Let’s narrow down on our pods.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>You might also have objects left over from other labs if they were not completely cleaned out. This is okay and the objects for different applications will not interfere with one another due to their use of <em>labels</em>.</p>
</details>
</li>
<li>
<p><strong>Run the command</strong>:</p>
<div class="highlight"><pre><span></span><code>oc get pods
</code></pre></div>
<details class="example" open="open">
<summary>Example Output</summary>
<div class="highlight"><pre><span></span><code>user01@lab061:~$ oc get pods
NAME             READY   STATUS      RESTARTS   AGE
httpd-example-1-build    0/1     Completed   0          3m12s
httpd-example-1-deploy   0/1     Completed   0          2m38s
httpd-example-1-r8dpw    1/1     Running     0          2m34s        
</code></pre></div>
</details>
<p>The <code>oc new-app</code> command created three pods. One ending with <code>build</code>, one ending with <code>deploy</code> and the other ending with a randomly-generated string of 5 characters (<code>r8dpw</code> in the screenshot above). They are all associated with your httpd deployment, but two are in a <em>Completed</em> status, and one is <em>Running</em>. The <em>Completed</em> pods had one simple job each – build the application pod, and deploy the application pod. The <code>Running</code> pod is the running httpd server, and that's what we're interested in.</p>
</li>
<li>
<p><strong>Run the following command</strong> to see the logs for the build pod:</p>
<div class="highlight"><pre><span></span><code>oc logs pod/httpd-example-1-build
</code></pre></div>
<details>
<summary>Expand to see Example Output</summary>
<div class="highlight"><pre><span></span><code>time=&quot;2022-09-07T15:06:46Z&quot; level=info msg=&quot;Not using native diff for overlay, this may cause degraded performance for building images: kernel has CONFIG_OVERLAY_FS_REDIRECT_DIR enabled&quot;
I0907 15:06:46.532335       1 defaults.go:102] Defaulting to storage driver &quot;overlay&quot; with options [mountopt=metacopy=on].
Caching blobs under &quot;/var/cache/blobs&quot;.
Trying to pull image-registry.openshift-image-registry.svc:5000/openshift/httpd@sha256:2b81d44b025f1ec399b0af0f4b9f1f315ecccd86db739d33e49a24138d831669...
Getting image source signatures
Copying blob sha256:f305bb7e80751f62007e416634d5fbdde5a09dfbeec8ead01c4a030521406fd1
Copying blob sha256:8c8566bb888e9a3890647fe37bcd0794a98256331552368fb2e120c3a71769ba
Copying blob sha256:b8a244553a3955b277a7f2af3459c46bc4504302e707c95233a0ce97e90fe066
Copying blob sha256:5050a44fec5224351630e11142efe5b28eb680db5080aa01459d643b38af870f
Copying config sha256:646dbe8bd260d5e2d2f6cb488f38fa4bb569efe09f25dd926e6dbe6e7c1c02e2
Writing manifest to image destination
Storing signatures
Generating dockerfile with builder image image-registry.openshift-image-registry.svc:5000/openshift/httpd@sha256:2b81d44b025f1ec399b0af0f4b9f1f315ecccd86db739d33e49a24138d831669
Adding transient rw bind mount for /run/secrets/rhsm
STEP 1/9: FROM image-registry.openshift-image-registry.svc:5000/openshift/httpd@sha256:2b81d44b025f1ec399b0af0f4b9f1f315ecccd86db739d33e49a24138d831669
STEP 2/9: LABEL &quot;io.openshift.build.commit.date&quot;=&quot;Tue Jul 19 16:22:14 2022 +0200&quot;       &quot;io.openshift.build.commit.id&quot;=&quot;744d904524011619b3a8a16cb5e535fed6233998&quot;       &quot;io.openshift.build.commit.ref&quot;=&quot;master&quot;       &quot;io.openshift.build.commit.message&quot;=&quot;Merge pull request #36 from sclorg/issue_35&quot;       &quot;io.openshift.build.source-location&quot;=&quot;https://github.com/sclorg/httpd-ex.git&quot;       &quot;io.openshift.build.image&quot;=&quot;image-registry.openshift-image-registry.svc:5000/openshift/httpd@sha256:2b81d44b025f1ec399b0af0f4b9f1f315ecccd86db739d33e49a24138d831669&quot;       &quot;io.openshift.build.commit.author&quot;=&quot;Petr Hracek &lt;phracek@redhat.com&gt;&quot;
STEP 3/9: ENV OPENSHIFT_BUILD_NAME=&quot;httpd-example-1&quot;     OPENSHIFT_BUILD_NAMESPACE=&quot;user00-project&quot;     OPENSHIFT_BUILD_SOURCE=&quot;https://github.com/sclorg/httpd-ex.git&quot;     OPENSHIFT_BUILD_COMMIT=&quot;744d904524011619b3a8a16cb5e535fed6233998&quot;
STEP 4/9: USER root
STEP 5/9: COPY upload/src /tmp/src
STEP 6/9: RUN chown -R 1001:0 /tmp/src
STEP 7/9: USER 1001
STEP 8/9: RUN /usr/libexec/s2i/assemble
---&gt; Enabling s2i support in httpd24 image
    AllowOverride All
---&gt; Installing application source
=&gt; sourcing 20-copy-config.sh ...
=&gt; sourcing 40-ssl-certs.sh ...
---&gt; Generating SSL key pair for httpd...
STEP 9/9: CMD /usr/libexec/s2i/run
COMMIT temp.builder.openshift.io/user00-project/httpd-example-1:2fda11d0
time=&quot;2022-09-07T15:07:04Z&quot; level=warning msg=&quot;Adding metacopy option, configured globally&quot;
Getting image source signatures
Copying blob sha256:92f1e97901b556ffa9ce24be4eface85f849909605cfa3935b03a713480bb8b1
Copying blob sha256:353a53d37adccad35f2b4aeacca9d81fe75bb082bbc75f2162e31e1f13fd75f3
Copying blob sha256:d00bac8c7787cb4f8283a257cd267a82e9463330c55123ab1f0f104f109ab93a
Copying blob sha256:a5ccc3f34f400bdb85cb724ad36a8ace6aaa941b300a2264565f874d494f844e
Copying blob sha256:d0d25de2e87a45b4e828f6d245dc8f319bcc55755bca88a75ebaba8fa9118c74
Copying config sha256:b7384dd55cc6c0879aa13de7c5bf4dbd118ea84eb5946ad5849f9874b29cbe3d
Writing manifest to image destination
Storing signatures
--&gt; b7384dd55cc
Successfully tagged temp.builder.openshift.io/user00-project/httpd-example-1:2fda11d0
b7384dd55cc6c0879aa13de7c5bf4dbd118ea84eb5946ad5849f9874b29cbe3d

Pushing image image-registry.openshift-image-registry.svc:5000/user00-project/httpd-example:latest ...
Getting image source signatures
Copying blob sha256:d0d25de2e87a45b4e828f6d245dc8f319bcc55755bca88a75ebaba8fa9118c74
Copying blob sha256:b8a244553a3955b277a7f2af3459c46bc4504302e707c95233a0ce97e90fe066
Copying blob sha256:8c8566bb888e9a3890647fe37bcd0794a98256331552368fb2e120c3a71769ba
Copying blob sha256:5050a44fec5224351630e11142efe5b28eb680db5080aa01459d643b38af870f
Copying blob sha256:f305bb7e80751f62007e416634d5fbdde5a09dfbeec8ead01c4a030521406fd1
Copying config sha256:b7384dd55cc6c0879aa13de7c5bf4dbd118ea84eb5946ad5849f9874b29cbe3d
Writing manifest to image destination
Storing signatures
Successfully pushed image-registry.openshift-image-registry.svc:5000/user00-project/httpd-example@sha256:bd19230bffb03932d7fcf2ead029d18347bbc13aecea376bf718a3c53bd7d364
Push successful
</code></pre></div>
</details>
<p>The build pod log lets you see all of the steps that were taken to containerize the httpd source code. If you are familiar with containerization, you will notice that each step is the output from a line in a Dockerfile/Containerfile. You could have built this image yourself and then deployed it to OpenShift, but why not let OpenShift do the heavy working for us?</p>
</li>
<li>
<p><strong>Run the following command</strong> to see the logs for the httpd server pod:</p>
<div class="highlight"><pre><span></span><code>oc logs pod/httpd-example-1-XXXXX
</code></pre></div>
<p>Where <code>XXXXX</code> is your unique string of characters that you saw in the <code>oc get pods</code> output.</p>
<details class="example" open="open">
<summary>Example Output</summary>
<div class="highlight"><pre><span></span><code>=&gt; sourcing 10-set-mpm.sh ...
=&gt; sourcing 20-copy-config.sh ...
=&gt; sourcing 40-ssl-certs.sh ...
AH00558: httpd: Could not reliably determine the server&#39;s fully qualified domain name, using 10.128.2.72. Set the &#39;ServerName&#39; directive globally to suppress this message
[Wed Sep 07 15:07:23.012881 2022] [ssl:warn] [pid 1:tid 4396165818656] AH01909: 10.128.2.72:8443:0 server certificate does NOT include an ID which matches the server name
[Wed Sep 07 15:07:23.013141 2022] [:notice] [pid 1:tid 4396165818656] ModSecurity for Apache/2.9.2 (http://www.modsecurity.org/) configured.
[Wed Sep 07 15:07:23.013147 2022] [:notice] [pid 1:tid 4396165818656] ModSecurity: APR compiled version=&quot;1.6.3&quot;; loaded version=&quot;1.6.3&quot;
[Wed Sep 07 15:07:23.013150 2022] [:notice] [pid 1:tid 4396165818656] ModSecurity: PCRE compiled version=&quot;8.42 &quot;; loaded version=&quot;8.42 2018-03-20&quot;
[Wed Sep 07 15:07:23.013156 2022] [:notice] [pid 1:tid 4396165818656] ModSecurity: LUA compiled version=&quot;Lua 5.3&quot;
[Wed Sep 07 15:07:23.013160 2022] [:notice] [pid 1:tid 4396165818656] ModSecurity: YAJL compiled version=&quot;2.1.0&quot;
[Wed Sep 07 15:07:23.013163 2022] [:notice] [pid 1:tid 4396165818656] ModSecurity: LIBXML compiled version=&quot;2.9.7&quot;
[Wed Sep 07 15:07:23.013172 2022] [:notice] [pid 1:tid 4396165818656] ModSecurity: Status engine is currently disabled, enable it by set SecStatusEngine to On.
[Wed Sep 07 15:07:23.118901 2022] [ssl:warn] [pid 1:tid 4396165818656] AH01909: 10.128.2.72:8443:0 server certificate does NOT include an ID which matches the server name
[Wed Sep 07 15:07:23.119089 2022] [lbmethod_heartbeat:notice] [pid 1:tid 4396165818656] AH02282: No slotmem from mod_heartmonitor
[Wed Sep 07 15:07:23.124907 2022] [mpm_event:notice] [pid 1:tid 4396165818656] AH00489: Apache/2.4.37 (Red Hat Enterprise Linux) OpenSSL/1.1.1g configured -- resuming normal operations
[Wed Sep 07 15:07:23.124925 2022] [core:notice] [pid 1:tid 4396165818656] AH00094: Command line: &#39;httpd -D FOREGROUND&#39;
10.128.2.1 - - [07/Sep/2022:15:07:25 +0000] &quot;GET / HTTP/1.1&quot; 200 37451 &quot;-&quot; &quot;kube-probe/1.23&quot;
10.128.2.1 - - [07/Sep/2022:15:07:34 +0000] &quot;GET / HTTP/1.1&quot; 200 37451 &quot;-&quot; &quot;kube-probe/1.23&quot;
</code></pre></div>
</details>
</li>
</ol>
<p>In the next section, you will navigate to the exposed route to see the application that you just deployed.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2024 IBM Z Washington Systems Center
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
    
  </body>
</html>